<html>
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>
      Webサービスサンプル
      </title>
      <script type="text/javascript" src="expGuiRail.js?key=LE_2mqk8hQGHqjNG" charset="UTF-8">
      </script>
      <script type="text/javascript">
        <!--
            var rail;
  /*
   * パーツを初期化
   */
  function init(){
    // 路線情報
    rail = new expGuiRail();
    rail.setConfigure("type",rail.TYPE_TRAIN);
    rail.searchCorporation(setCorporationList);
  }
  /*
   * 会社一覧取得のコールバック
   */
  function setCorporationList(isSuccess){
    if(!isSuccess){
      alert("会社一覧が取得できませんでした");
    }else{
      //会社一覧
      var corpList = rail.getCorporationList().split(",");
      if(corpList[0] != ""){
          rail.searchRail(corpList[0],setRailList);
          }
      }
  }
  /*
   * 路線一覧取得のコールバック
   */
  function setRailList(isSuccess){
    if(!isSuccess){
      alert("路線一覧が取得できませんでした");
    }else{
      //路線一覧
      var railList = rail.getRailList().split(",");
      if(railList[0] != ""){
          rail.searchStation(railList[0],rail.DIRECTION_NONE,setStationList);
      }
    }
  }
  /*
   * 停車駅一覧取得のコールバック
   */
  function setStationList(isSuccess){
    if(!isSuccess){
      alert("駅一覧が取得できませんでした");
    }else{
      //駅一覧の出力
      var buffer = "";
      var stationList = rail.getStationList().split(",");
      for(var i=0;i<stationList.length;i++){
        buffer+=stationList[i]+"\n";
      }
      alert(buffer);
    }
  }
  // -->
      </script>
    </head>
    <body onLoad="Javascript:init();">
    </body>
  </html>